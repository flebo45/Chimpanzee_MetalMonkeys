<?xml version="1.0" ?>
<sdf version="1.8">
    <model name="rc_ball">
        <pose>0 0 0.05 0 0 0</pose>

        <link name="chassis">
            <inertial>
                <mass>10.0</mass> 
                <pose>0 0 -0.05 0 0 0</pose>
                <inertia>
                    <ixx>1.0</ixx><ixy>0</ixy><ixz>0</ixz>
                    <iyy>1.0</iyy><iyz>0</iyz>
                    <izz>1.0</izz>
                </inertia>
            </inertial>

            <visual name="visual">
                <pose>0 0 0.15 0 0 0</pose>
                <geometry><sphere><radius>0.2</radius></sphere></geometry>
                <material><ambient>1 0 0 1</ambient><diffuse>1 0 0 1</diffuse></material>
            </visual>

            <visual name="nose">
                <pose>0.15 0 0.15 0 0 0</pose>
                <geometry><box><size>0.1 0.1 0.1</size></box></geometry>
                <material><ambient>1 1 1 1</ambient><diffuse>1 1 1 1</diffuse></material>
            </visual>

            <collision name="chassis_collision">
                <geometry><sphere><radius>0.08</radius></sphere></geometry>
            </collision>

            <collision name="caster_front">
                <pose>0.18 0 -0.02 0 0 0</pose>
                <geometry><sphere><radius>0.03</radius></sphere></geometry>
                <surface><friction><ode><mu>0.0</mu><mu2>0.0</mu2></ode></friction></surface>
            </collision>

            <collision name="caster_back">
                <pose>-0.18 0 -0.02 0 0 0</pose>
                <geometry><sphere><radius>0.03</radius></sphere></geometry>
                <surface><friction><ode><mu>0.0</mu><mu2>0.0</mu2></ode></friction></surface>
            </collision>
        </link>

        <link name="left_wheel">
            <pose>0 0.20 0 -1.57 0 0</pose> <collision name="c"><geometry><cylinder><radius>0.05</radius><length>0.02</length></cylinder></geometry></collision>
        </link>

        <link name="right_wheel">
            <pose>0 -0.20 0 -1.57 0 0</pose> <collision name="c"><geometry><cylinder><radius>0.05</radius><length>0.02</length></cylinder></geometry></collision>
        </link>

        <joint name="left_wheel_joint" type="revolute">
            <parent>chassis</parent><child>left_wheel</child><axis><xyz>0 0 1</xyz></axis>
        </joint>
        <joint name="right_wheel_joint" type="revolute">
            <parent>chassis</parent><child>right_wheel</child><axis><xyz>0 0 1</xyz></axis>
        </joint>

        <plugin filename="gz-sim-diff-drive-system" name="gz::sim::systems::DiffDrive">
            <left_joint>left_wheel_joint</left_joint>
            <right_joint>right_wheel_joint</right_joint>
            <wheel_separation>0.4</wheel_separation> <wheel_radius>0.05</wheel_radius>
            <topic>/ball_cmd_vel</topic>
        </plugin>
    </model>
</sdf>